(function(a,b){if(typeof module!="undefined")module.exports=b();else if(typeof define=="function"&&typeof define.amd=="object")define(b);else this[a]=b()})("Voila",function(){function c(a,b){var c=false,d=true,e=a.document,f=e.documentElement,g=e.addEventListener?"addEventListener":"attachEvent",h=e.addEventListener?"removeEventListener":"detachEvent",i=e.addEventListener?"":"on",j=function(d){if(d.type=="readystatechange"&&e.readyState!="complete")return;(d.type=="load"?a:e)[h](i+d.type,j,false);if(!c&&(c=true))b.call(a,d.type||d)},k=function(){try{f.doScroll("left")}catch(a){setTimeout(k,50);return}j("poll")};if(e.readyState=="complete")b.call(a,true);else{if(e.createEventObject&&f.doScroll){try{d=!a.frameElement}catch(l){}if(d)k()}e[g](i+"DOMContentLoaded",j,false);e[g](i+"readystatechange",j,false);a[g](i+"load",j,false)}}var a=function(a){function k(a){j=setTimeout(function(){var c=null;var d=a.target.attributes;for(var e=0,f=d.length;e<f;e++){if(d[e].nodeName==="data-contentid"){c=d[e].nodeValue}}b.logHover(c,function(a,b){if(a){}else{}})},250)}function l(){clearTimeout(j)}var b=this;var c="1.0";if(a.version){var c=a.version}this.version=c;this.apiKey=null;if(a.apiKey){this.apiKey=a.apiKey}this.content=null;if(a.contentId){this.content=a.contentId}else if(a.contentUri){this.content=a.contentUri}this.url="https://voila.metabroadcast.com";if(a.host){this.url="https://"+a.host}this.hoverItems=[];if(a.hoverItems){for(var d=0,e=a.hoverItems.length;d<e;d++){var f=qwery(a.hoverItems[d]);for(var g=0,h=f.length;g<h;g++){this.hoverItems.push(f[g]);try{this.hoverItems[this.hoverItems.length-1].addEventListener("mouseover",k);this.hoverItems[this.hoverItems.length-1].addEventListener("mouseout",l)}catch(i){this.hoverItems[this.hoverItems.length-1].attachEvent("mouseover",k);this.hoverItems[this.hoverItems.length-1].attachEvent("mouseout",l)}}}}this.trackingId=null;if(a.trackingId){this.parent=a.trackingId}var j=null;this.createIframe()};a.prototype.pageLoad=function(a){var b=this;b.getTracking(function(c,d){if(c){}else{a(null,d);b.logLoad()}})};a.prototype.createIframe=function(){if(qwery("#voilaframe").length!==0){this.deleteIframe()}var a=document.createElement("iframe");a.setAttribute("id","voilaframe");a.style.width=0;a.style.height=0;a.style.visibility="hidden";a.style.borderWidth=0;a.style.position="absolute";a.style.left=-9999+"px";a.style.top=-9999+"px";document.body.appendChild(a)};a.prototype.deleteIframe=function(){document.body.removeChild(qwery("#voilaframe")[0])};a.prototype.createForm=function(a,b,c){var d=this;var e=document.createElement("form");e.setAttribute("id",b);e.setAttribute("target","voilaframe");e.setAttribute("method","POST");e.setAttribute("action",a);e.style.width=0;e.style.height=0;e.style.visibility="hidden";e.style.borderWidth=0;e.style.position="absolute";e.style.left=-9999+"px";e.style.top=-9999+"px";if(c){for(var f=0,g=c.length;f<g;f++){e.appendChild(d.createInput(c[f]))}}return e};a.prototype.deleteForm=function(a){document.body.removeChild(qwery("#"+a)[0])};a.prototype.createInput=function(a){var b=document.createElement("input");b.setAttribute("type","hidden");b.setAttribute("name",a.name);b.setAttribute("value",a.value);return b};a.prototype.setContentId=function(a){this.content=a};a.prototype.setContentUri=function(a){this.content=a};a.prototype.getContent=function(a,b,c){var d=this;var e=d.content;if(b){e=b}var f=null;if(c){f=c.join(",")}var g=new jXHR;g.onerrer=function(b,c){a(b)};g.onreadystatechange=function(b){if(g.readyState===4){if(b.content){a(null,b.content)}}};var h=d.url+"/"+d.version+"/content?apiKey="+d.apiKey;if(e.indexOf("http")!==-1){h+="&uri="+e}else{h+="&id="+e}if(f){h+="&annotations="+f}h+="&callback=?";g.open("GET",h);g.send()};a.prototype.getTracking=function(a){var b=this;var c=new jXHR;c.onerrer=function(b,c){a(b)};c.onreadystatechange=function(d){if(c.readyState===2&&c.status!==200){a(c)}if(c.readyState===4){if(d.tracking_id){b.trackingId=d.tracking_id;a(null,d.tracking_id);return}a("error")}};var d=b.url+"/"+b.version+"/tracking?apiKey="+b.apiKey;if(b.content.indexOf("http")!==-1){d+="&contentUri="+b.content}else{d+="&contentId="+b.content}if(b.parent){d+="&parentTrackingId="+b.parent}d+="&callback=?";c.open("GET",d);c.send()};a.prototype.logLoad=function(a){var c=this;var d=null;if(c.trackingId){d=[{name:"tracking_id",value:c.trackingId}]}if(c.content){if(!d){d=[]}if(c.content.indexOf("http")!==-1){d.push({name:"x-purple-external-uri",value:c.content})}else{d.push({name:"x-purple-id",value:c.content})}}var e=c.createForm(c.url+"/"+c.version+"/log?apiKey="+c.apiKey+"&event=page-load","voila-pageLog",d);try{e.addEventListener("submit",b)}catch(f){e.attachEvent("submit",b)}e.submit()};a.prototype.logHover=function(a,c){var d=this;var e=null;if(d.trackingId){e=[{name:"tracking_id",value:d.trackingId}]}if(!c){if(d.content){if(!e){e=[]}if(d.content.indexOf("http")!==-1){e.push({name:"x-purple-external-uri",value:d.content})}else{e.push({name:"x-purple-id",value:d.content})}}}else{if(!e){e=[]}if(c.indexOf("http")!==-1){e.push({name:"x-purple-external-uri",value:c})}else{e.push({name:"x-purple-id",value:c})}}var f=d.createForm(d.url+"/"+d.version+"/log?apiKey="+d.apiKey+"&event=tv-listings-hover","voila-itemLog",e);try{f.addEventListener("submit",b)}catch(g){f.attachEvent("submit",b)}f.submit()};a.prototype.watching=function(a){var c=this;if(c.content){if(c.content.indexOf("http")!==-1){inputs=[{name:"uri",value:c.content}]}else{inputs=[{name:"id",value:c.content}]}}if(a){if(a.indexOf("http")!==-1){inputs=[{name:"uri",value:a}]}else{inputs=[{name:"id",value:a}]}}var d=c.createForm(c.url+"/"+c.version+"/watching/me/@self?apiKey="+config.apiKey,"voila-watching",inputs);try{d.addEventListener("submit",b)}catch(e){d.attachEvent("submit",b)}d.submit()};a.prototype.notWatching=function(a){var c=this;var d=[{name:"http_action",value:"DELETE"}];var e=null;if(c.content){e=c.content}if(a){e=a}var f=c.url+"/"+c.version+"/watching/me/@self/";if(getcontent.indexOf("http")!==-1){f+="uri:"+e}else{f+="id:"+e}f+="?apiKey="+config.apiKey;var g=c.createForm(f,"voila-watching",d);try{g.addEventListener("submit",b)}catch(h){g.attachEvent("submit",b)}g.submit()};a.prototype.currentlyWatching=function(a,b){var c=this;var d=null;if(c.contentId){d=c.contentId}if(b){d=b}if(!d){a("Not watching");return}var e=new jXHR;e.onerrer=function(b,c){a(b)};e.onreadystatechange=function(b){if(e.readyState===4){if(b.watching&&b.watching.length>0){var c=false;for(var f=0,g=b.watching.length;f<g;f++){if(b.watching[f].target.id.value===d){c=true;break}}a(null,c)}}};var f=c.url+"/"+c.version+"/watching/me/@self?apiKey="+c.apiKey+"&callback=?";e.open("GET",f);e.send()};a.prototype.cookieOptOut=function(a){var b=this;var c=new jXHR;c.onerrer=function(b,c){a(b)};c.onreadystatechange=function(b){console.log(c);if(c.readyState===2){a(null,true)}};var d=b.url+"/"+b.version+"/optout/set?apiKey="+b.apiKey;c.open("GET",d);c.send()};a.prototype.cookieOptIn=function(a){var b=this;var c=new jXHR;c.onerrer=function(b,c){a(b)};c.onreadystatechange=function(b){if(c.readyState===2){a(null,true)}};var d=b.url+"/"+b.version+"/optout/remove?apiKey="+b.apiKey;c.open("GET",d);c.send()};a.prototype.cookieOptStatus=function(a){var b=this;var c=new jXHR;c.onerrer=function(b,c){a(b)};c.onreadystatechange=function(b){if(c.readyState===4){a(null,b)}};var d=b.url+"/"+b.version+"/optout?apiKey="+b.apiKey+"&callback=?";c.open("GET",d);c.send()};var b=function(a){var b=document.getElementById("voilaframe");if(b&&b.contentWindow&&b.contentWindow.document&&b.contentWindow.document.body){var c=b.contentWindow.document.body.innerHTML;a(null,c)}v.createIframe()};return a});(function(a,b){if(typeof module!="undefined")module.exports=b();else if(typeof define=="function"&&typeof define.amd=="object")define(b);else this[a]=b()})("qwery",function(){function C(){this.c={}}function H(a){return D.g(a)||D.s(a,"(^|\\s+)"+a+"(\\s+|$)",1)}function I(a,b){var c=0,d=a.length;for(;c<d;c++)b(a[c])}function J(a){for(var b=[],c=0,d=a.length;c<d;++c)V(a[c])?b=b.concat(a[c]):b[b.length]=a[c];return b}function K(a){var b=0,c=a.length,d=[];for(;b<c;b++)d[b]=a[b];return d}function L(a){while(a=a.previousSibling)if(a[h]==1)break;return a}function M(a){return a.match(A)}function N(a,b,c,d,e,f,i,l,m,n,o){var p,q,r,s,t;if(this[h]!==1)return false;if(b&&b!=="*"&&this[g]&&this[g].toLowerCase()!==b)return false;if(c&&(q=c.match(j))&&q[1]!==this.id)return false;if(c&&(t=c.match(k))){for(p=t.length;p--;)if(!H(t[p].slice(1)).test(this.className))return false}if(m&&Y.pseudos[m]&&!Y.pseudos[m](this,o))return false;if(d&&!i){s=this.attributes;for(r in s){if(Object.prototype.hasOwnProperty.call(s,r)&&(s[r].name||r)==e){return this}}}if(d&&!P(f,_(this,e)||"",i)){return false}return this}function O(a){return E.g(a)||E.s(a,a.replace(t,"\\$1"))}function P(a,b,c){switch(a){case"=":return b==c;case"^=":return b.match(F.g("^="+c)||F.s("^="+c,"^"+O(c),1));case"$=":return b.match(F.g("$="+c)||F.s("$="+c,O(c)+"$",1));case"*=":return b.match(F.g(c)||F.s(c,O(c),1));case"~=":return b.match(F.g("~="+c)||F.s("~="+c,"(?:^|\\s+)"+O(c)+"(?:\\s+|$)",1));case"|=":return b.match(F.g("|="+c)||F.s("|="+c,"^"+O(c)+"(-|$)",1))}return 0}function Q(a,b){var c=[],e=[],f,i,j,k,m,n,o,p,q=b,r=G.g(a)||G.s(a,a.split(z)),s=a.match(y);if(!r.length)return c;k=(r=r.slice(0)).pop();if(r.length&&(j=r[r.length-1].match(l)))q=X(b,j[1]);if(!q)return c;o=M(k);n=q!==b&&q[h]!==9&&s&&/^[+~]$/.test(s[s.length-1])?function(a){while(q=q.nextSibling){q[h]==1&&(o[1]?o[1]==q[g].toLowerCase():1)&&(a[a.length]=q)}return a}([]):q[d](o[1]||"*");for(f=0,i=n.length;f<i;f++){if(p=N.apply(n[f],o))c[c.length]=p}if(!r.length)return c;I(c,function(a){if(S(a,r,s))e[e.length]=a});return e}function R(a,b,c){if(T(b))return a==b;if(V(b))return!!~J(b).indexOf(a);var d=b.split(","),e,f;while(b=d.pop()){e=G.g(b)||G.s(b,b.split(z));f=b.match(y);e=e.slice(0);if(N.apply(a,M(e.pop()))&&(!e.length||S(a,e,f,c))){return true}}return false}function S(a,b,c,d){function f(a,d,g){while(g=B[c[d]](g,a)){if(T(g)&&N.apply(g,M(b[d]))){if(d){if(e=f(g,d-1,g))return e}else return g}}}var e;return(e=f(a,b.length-1,a))&&(!d||$(e,d))}function T(a,b){return a&&typeof a==="object"&&(b=a[h])&&(b==1||b==9)}function U(a){var b=[],c,d;a:for(c=0;c<a.length;++c){for(d=0;d<b.length;++d)if(b[d]==a[c])continue a;b[b.length]=a[c]}return b}function V(a){return typeof a==="object"&&isFinite(a.length)}function W(b){if(!b)return a;if(typeof b=="string")return Y(b)[0];if(!b[h]&&V(b))return b[0];return b}function X(a,b,c){return a[h]===9?a.getElementById(b):a.ownerDocument&&((c=a.ownerDocument.getElementById(b))&&$(c,a)&&c||!$(a,a.ownerDocument)&&i('[id="'+b+'"]',a)[0])}function Y(a,b){var e,f,g=W(b);if(!g||!a)return[];if(a===window||T(a)){return!b||a!==window&&T(g)&&$(a,g)?[a]:[]}if(a&&V(a))return J(a);if(e=a.match(x)){if(e[1])return(f=X(g,e[1]))?[f]:[];if(e[2])return K(g[d](e[2]));if(ab&&e[3])return K(g[c](e[3]))}return i(a,g)}function Z(a,b){return function(c){var d,e;if(p.test(c)){if(a[h]!==9){if(!(e=d=a.getAttribute("id")))a.setAttribute("id",e="__qwerymeupscotty");c='[id="'+e+'"]'+c;b(a.parentNode||a,c,true);d||a.removeAttribute("id")}return}c.length&&b(a,c,false)}}var a=document,b=a.documentElement,c="getElementsByClassName",d="getElementsByTagName",e="querySelectorAll",f="useNativeQSA",g="tagName",h="nodeType",i,j=/#([\w\-]+)/,k=/\.[\w\-]+/g,l=/^#([\w\-]+)$/,m=/^\.([\w\-]+)$/,n=/^([\w\-]+)$/,o=/^([\w]+)?\.([\w\-]+)$/,p=/(^|,)\s*[>~+]/,q=/^\s+|\s*([,\s\+\~>]|$)\s*/g,r=/[\s\>\+\~]/,s=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,t=/([.*+?\^=!:${}()|\[\]\/\\])/g,u=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,v=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,w=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,x=new RegExp(l.source+"|"+n.source+"|"+m.source),y=new RegExp("("+r.source+")"+s.source,"g"),z=new RegExp(r.source+s.source),A=new RegExp(u.source+"("+v.source+")?"+"("+w.source+")?"),B={" ":function(a){return a&&a!==b&&a.parentNode},">":function(a,b){return a&&a.parentNode==b.parentNode&&a.parentNode},"~":function(a){return a&&a.previousSibling},"+":function(a,b,c,d){if(!a)return false;return(c=L(a))&&(d=L(b))&&c==d&&c}};C.prototype={g:function(a){return this.c[a]||undefined},s:function(a,b,c){b=c?new RegExp(b):b;return this.c[a]=b}};var D=new C,E=new C,F=new C,G=new C;var $="compareDocumentPosition"in b?function(a,b){return(b.compareDocumentPosition(a)&16)==16}:"contains"in b?function(a,c){c=c[h]===9||c==window?b:c;return c!==a&&c.contains(a)}:function(a,b){while(a=a.parentNode)if(a===b)return 1;return 0},_=function(){var b=a.createElement("p");return(b.innerHTML='<a href="#x">x</a>')&&b.firstChild.getAttribute("href")!="#x"?function(a,b){return b==="class"?a.className:b==="href"||b==="src"?a.getAttribute(b,2):a.getAttribute(b)}:function(a,b){return a.getAttribute(b)}}(),ab=!!a[c],bb=a.querySelector&&a[e],cb=function(a,b){var c=[],d,f;try{if(b[h]===9||!p.test(a)){return K(b[e](a))}I(d=a.split(","),Z(b,function(a,b){f=a[e](b);if(f.length==1)c[c.length]=f.item(0);else if(f.length)c=c.concat(K(f))}));return d.length>1&&c.length>1?U(c):c}catch(g){}return db(a,b)},db=function(a,b){var c=[],e,f,g,i,j,k;a=a.replace(q,"$1");if(f=a.match(o)){j=H(f[2]);e=b[d](f[1]||"*");for(g=0,i=e.length;g<i;g++){if(j.test(e[g].className))c[c.length]=e[g]}return c}I(k=a.split(","),Z(b,function(a,d,e){j=Q(d,a);for(g=0,i=j.length;g<i;g++){if(a[h]===9||e||$(j[g],b))c[c.length]=j[g]}}));return k.length>1&&c.length>1?U(c):c},eb=function(a){if(typeof a[f]!=="undefined")i=!a[f]?db:bb?cb:db};eb({useNativeQSA:true});Y.configure=eb;Y.uniq=U;Y.is=R;Y.pseudos={};return Y});(function(a){var b=a.setTimeout,c=a.document,d=0;a.jXHR=function(){function j(){try{h.parentNode.removeChild(h)}catch(a){}}function k(){f=false;e="";j();h=null;n(0)}function l(a){try{i.onerror.call(i,a,e)}catch(b){throw new Error(a)}}function m(){if(this.readyState&&this.readyState!=="complete"&&this.readyState!=="loaded"||f){return}this.onload=this.onreadystatechange=null;f=true;if(i.readyState!==4)l("Script failed to load ["+e+"].");j()}function n(a,b){b=b||[];i.readyState=a;if(typeof i.onreadystatechange==="function")i.onreadystatechange.apply(i,b)}var e,f,g,h,i=null;i={onerror:null,onreadystatechange:null,readyState:0,open:function(b,c){k();internal_callback="cb"+d++;(function(b){a.jXHR[b]=function(){try{n.call(i,4,arguments)}catch(c){i.readyState=-1;l("Script failed to run ["+e+"].")}a.jXHR[b]=null}})(internal_callback);e=c.replace(/=\?/,"=jXHR."+internal_callback);n(1)},send:function(){b(function(){h=c.createElement("script");h.setAttribute("type","text/javascript");h.onload=h.onreadystatechange=function(){m.call(h)};h.setAttribute("src",e);c.getElementsByTagName("head")[0].appendChild(h)},0);n(2)},setRequestHeader:function(){},getResponseHeader:function(){return""},getAllResponseHeaders:function(){return[]}};k();return i}})(window)